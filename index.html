<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>26年冬天的第一份礼物-陆叶收</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden;
            height: 100%;
            background-color: #000;
        }
        
        .popup {
            position: absolute;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            pointer-events: none;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            word-wrap: break-word;
        }
        
        /* 初始弹窗样式 */
        .initial-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #FFF0F5;
            border: 3px solid #FF69B4;
            border-radius: 15px;
            padding: 30px;
            width: 300px;
            max-width: 90vw;
            text-align: center;
            z-index: 2000;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }
        
        .initial-modal h2 {
            color: #FF69B4;
            margin-bottom: 20px;
            font-family: 'Arial', sans-serif;
        }
        
        .initial-modal p {
            color: #333;
            font-size: 16px;
            line-height: 1.5;
            margin-bottom: 25px;
            font-family: 'Arial', sans-serif;
        }
        
        .accept-btn {
            background-color: #FF69B4;
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: 16px;
            font-weight: bold;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .accept-btn:hover {
            background-color: #FF1493;
            transform: scale(1.05);
        }
        
        .accept-btn:active {
            transform: scale(0.95);
        }
        
        /* 动画效果 */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideIn {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        @keyframes scaleIn {
            from {
                transform: scale(0.2);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }
        
        @keyframes spinIn {
            from {
                transform: rotate(0deg) scale(0.3);
                opacity: 0.3;
            }
            to {
                transform: rotate(360deg) scale(1);
                opacity: 1;
            }
        }
        
        @keyframes bounceIn {
            0% {
                transform: translateY(-100px);
                opacity: 0;
            }
            50% {
                transform: translateY(15px);
            }
            70% {
                transform: translateY(-10px);
            }
            90% {
                transform: translateY(5px);
            }
            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        @keyframes shakeIn {
            0%, 100% { transform: translateX(0); opacity: 1; }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
    </style>
</head>
<body>
    <script>
        // 屏幕尺寸
        const screenWidth = window.innerWidth;
        const screenHeight = window.innerHeight;
        
        // 弹窗配置
        let popups = [];
        const WIDTH = 250;
        const HEIGHT = 80;
        
        // 温柔系配色（背景 + 文字）
        const colorThemes = [
            ['#FFF0F5', '#FF69B4'],  // 花瓣粉 + 热情粉
            ['#F0F8FF', '#4682B4'],  // 蔚蓝天 + 钢蓝
            ['#F5FFFA', '#3CB371'],  // 薄荷绿 + 海洋绿
            ['#FFFACD', '#FFA500'],  // 柠檬黄 + 橙色
            ['#FAFAD2', '#FF6347'],  // 金色云 + 番茄红
            ['#E6E6FA', '#9370DB'],  // 薰衣草 + 中紫
            ['#FFF5EE', '#FF7F50'],  // 珊瑚白 + 珊瑚红
            ['#F8F8FF', '#5F9EA0'],  // 幽灵白 + 海军蓝
            ['#FDF5E6', '#D2691E'],  // 花边白 + 巧克力色
            ['#F0FFF0', '#2E8B57'],  // 蜂蜜露 + 海洋绿
        ];
        

const tips = [
    "愿你每天都能找到生活中的小确幸。",
    "相信自己，你是这世上无可替代的存在。",
    "别熬夜，早点休息。",
    "天冷了，记得添衣，替我照顾好自己。",
    "如果累了，就停下来歇一歇，我在这里。",
    "今天有好好吃饭吗？",
    "听到一个笑话，第一时间就想分享给你。",
    "这个冬天，因为想到你，感觉也没那么冷了。",
    "我发现在人群中，总能一眼就看到你。",
    "和你聊天，是我一天里最放松的时刻。",
    "最近听到一首歌，歌词里写的好像你。",
    "看到好看的晚霞，第一反应是拍给你看。",
    "你就像我的小太阳，看到你就觉得暖洋洋的。",
    "不知道我有没有资格，申请做你的暖手宝？",
    "有任何需要，我随时都在。",
    "你笑起来的样子，真的很好看。",
    "在我眼里，你一直在发光哦。",
    "勇敢去做吧，我会是你最坚实的后盾。",
    "你认真做事的样子，特别有魅力。",
    "希望今年冬天，能和你一起看第一场雪。",
    "立冬了，适合把一年里所有美好的事，和你一起复盘。",
    "听说冬天是储存浪漫的季节，那我要存起来留给你。",
    "想和你一起吃热乎乎的火锅，感受升腾的烟火气。",
    "秋天适合想念，冬天适合见面。我们……什么时候见面？",
    "我的未来计划里，好像多了一个你。",
    "期待下一次见面",
    "我想你了",
    "想你想你想你",
    "别太累了，好好爱自己",
    "祝你找工作顺利呀",
];
        
        // 可选字体
        const availableFonts = [
            ['Helvetica', '15px', 'bold'],
            ['Arial', '14px', 'bold'],
            ['Comic Sans MS', '15px', 'bold'],
            ['Georgia', '14px', 'bold'],
            ['Times New Roman', '15px', 'bold'],
            ['Verdana', '14px', 'bold'],
            ['Courier New', '14px', 'bold'],
            ['Palatino', '15px', 'bold'],
            ['Trebuchet MS', '14px', 'bold'],
            ['Impact', '16px', 'bold']
        ];
        
        // 工具函数
        function getRandomElement(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }
        
        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        
        // 创建弹窗
        function createPopup(options = {}) {
            const popup = document.createElement('div');
            popup.className = 'popup';
            
            // 设置位置
            const x = options.x || getRandomInt(5, screenWidth - WIDTH - 5);
            const y = options.y || getRandomInt(5, screenHeight - HEIGHT - 5);
            popup.style.left = `${x}px`;
            popup.style.top = `${y}px`;
            
            // 设置尺寸
            const w = options.width || WIDTH;
            const h = options.height || HEIGHT;
            popup.style.width = `${w - 30}px`; // 减去padding
            popup.style.height = `${h - 30}px`;
            
            // 设置颜色
            const colors = getRandomElement(colorThemes);
            popup.style.backgroundColor = colors[0];
            popup.style.border = `2px solid #DDA0DD`;
            
            // 创建文本
            const text = document.createElement('div');
            text.textContent = getRandomElement(tips);
            text.style.color = colors[1];
            
            // 设置字体
            const font = options.font || getRandomElement(availableFonts);
            text.style.fontFamily = font[0];
            text.style.fontSize = font[1];
            text.style.fontWeight = font[2];
            text.style.maxWidth = '100%';
            text.style.maxHeight = '100%';
            
            popup.appendChild(text);
            document.body.appendChild(popup);
            
            // 添加到弹窗列表
            popups.push(popup);
            
            // 选择并应用动画
            const animType = options.animType || getRandomElement(['fade', 'slide', 'scale', 'spin', 'bounce', 'shake']);
            popup.style.animation = `${animType}In 0.6s ease-out forwards`;
            
            // 设置自动销毁
            const destroyTime = getRandomInt(8000, 10000);
            setTimeout(() => {
                popup.style.animation = 'fadeOut 0.6s ease-in forwards';
                setTimeout(() => {
                    safeDestroy(popup);
                }, 600);
            }, destroyTime);
            
            return popup;
        }
        
        function safeDestroy(element) {
            if (element && element.parentNode) {
                element.parentNode.removeChild(element);
            }
            // 清理弹窗列表
            cleanupPopups();
        }
        
        function cleanupPopups() {
            popups = popups.filter(popup => {
                return popup && popup.parentNode;
            });
        }
        
        // 爱心曲线生成函数
        function heartCurve(t, scale) {
            const x = 16 * Math.pow(Math.sin(t), 3);
            const y = -(13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t));
            return [x * scale, y * scale];
        }
        
        // 创建爱心形状的弹窗
        function createHeartPopups() {
            const numPoints = 100;
            const scale = 22;
            const centerX = screenWidth / 2;
            const centerY = screenHeight / 2 - 70;
            
            const HEART_WIDTH = 120;
            const HEART_HEIGHT = 60;
            
            function createPoint(i) {
                if (i >= numPoints) {
                    // 爱心画完，3秒后启动满屏弹窗
                    setTimeout(spawnPopups, 3000);
                    return;
                }
                
                const t = i * (2 * Math.PI / numPoints);
                const [hx, hy] = heartCurve(t, scale);
                const x = Math.floor(centerX + hx - HEART_WIDTH / 2);
                const y = Math.floor(centerY + hy - HEART_HEIGHT / 2);
                
                // 创建心形弹窗
                createPopup({
                    x: x,
                    y: y,
                    width: HEART_WIDTH,
                    height: HEART_HEIGHT,
                    font: ['Helvetica', '10px', 'normal'],
                    animType: 'fade'
                });
                
                // 延迟创建下一个点
                setTimeout(() => createPoint(i + 1), 50);
            }
            
            // 从第一个点开始
            createPoint(0);
        }
        
        // 生成满屏弹窗
        function spawnPopups() {
            const total = 1000;
            const baseInterval = 100; // 毫秒
            const minInterval = 5;
            
            let cumulativeDelay = 0;
            for (let i = 0; i < total; i++) {
                const progress = i / total;
                const interval = baseInterval - (baseInterval - minInterval) * Math.pow(progress, 1.5);
                cumulativeDelay += interval;
                
                setTimeout(() => {
                    createPopup();
                }, cumulativeDelay);
            }
            
            // 结束后清理所有弹窗
            setTimeout(() => {
                popups.forEach(popup => {
                    safeDestroy(popup);
                });
            }, cumulativeDelay + 8000);
        }
        
        // 创建初始弹窗
        function createInitialModal() {
            const modal = document.createElement('div');
            modal.className = 'initial-modal';
            
            const title = document.createElement('h2');
            title.textContent = '给陆叶的神秘礼物';
            
            const content = document.createElement('p');
            content.textContent = '画不出来你就完蛋了！';
            
            const button = document.createElement('button');
            button.className = 'accept-btn';
            button.textContent = '接受礼物';
            
            button.addEventListener('click', function() {
                // 移除初始弹窗
                modal.style.opacity = '0';
                modal.style.transform = 'translate(-50%, -50%) scale(0.9)';
                modal.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                
                setTimeout(() => {
                    if (modal.parentNode) {
                        document.body.removeChild(modal);
                    }
                    // 开始播放动画
                    setTimeout(createHeartPopups, 1000);
                }, 500);
            });
            
            modal.appendChild(title);
            modal.appendChild(content);
            modal.appendChild(button);
            document.body.appendChild(modal);
            
            // 添加淡入动画
            setTimeout(() => {
                modal.style.opacity = '1';
                modal.style.transform = 'translate(-50%, -50%)';
                modal.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
            }, 10);
        }
        
        // 启动程序：先显示初始弹窗
        window.addEventListener('DOMContentLoaded', createInitialModal);
    </script>
</body>
</html>
