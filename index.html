<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>温暖话语弹窗</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden;
            height: 100%;
            background-color: #000;
        }
        
        .popup {
            position: absolute;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            pointer-events: none;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            word-wrap: break-word;
        }
        
        /* 动画效果 */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideIn {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        @keyframes scaleIn {
            from {
                transform: scale(0.2);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }
        
        @keyframes spinIn {
            from {
                transform: rotate(0deg) scale(0.3);
                opacity: 0.3;
            }
            to {
                transform: rotate(360deg) scale(1);
                opacity: 1;
            }
        }
        
        @keyframes bounceIn {
            0% {
                transform: translateY(-100px);
                opacity: 0;
            }
            50% {
                transform: translateY(15px);
            }
            70% {
                transform: translateY(-10px);
            }
            90% {
                transform: translateY(5px);
            }
            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        @keyframes shakeIn {
            0%, 100% { transform: translateX(0); opacity: 1; }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
    </style>
</head>
<body>
    <script>
        // 屏幕尺寸
        const screenWidth = window.innerWidth;
        const screenHeight = window.innerHeight;
        
        // 弹窗配置
        let popups = [];
        const WIDTH = 250;
        const HEIGHT = 80;
        
        // 温柔系配色（背景 + 文字）
        const colorThemes = [
            ['#FFF0F5', '#FF69B4'],  // 花瓣粉 + 热情粉
            ['#F0F8FF', '#4682B4'],  // 蔚蓝天 + 钢蓝
            ['#F5FFFA', '#3CB371'],  // 薄荷绿 + 海洋绿
            ['#FFFACD', '#FFA500'],  // 柠檬黄 + 橙色
            ['#FAFAD2', '#FF6347'],  // 金色云 + 番茄红
            ['#E6E6FA', '#9370DB'],  // 薰衣草 + 中紫
            ['#FFF5EE', '#FF7F50'],  // 珊瑚白 + 珊瑚红
            ['#F8F8FF', '#5F9EA0'],  // 幽灵白 + 海军蓝
            ['#FDF5E6', '#D2691E'],  // 花边白 + 巧克力色
            ['#F0FFF0', '#2E8B57'],  // 蜂蜜露 + 海洋绿
        ];
        
        // 温暖话语
        const tips = [
            "每一个清晨，都是新的开始。",
            "愿你每天都能找到生活中的小确幸。",
            "阳光总在风雨后，请相信美好即将来临。",
            "无论走到哪里，都不要忘记欣赏沿途的风景。",
            "有时候，停下脚步是为了更好地前行。",
            "勇敢地去追寻你的梦想吧，它就在不远处等你。",
            "每一步都算数，在成为更好自己的路上。",
            "内心充满爱的人，能看到生活中更多的美。",
            "记住那些让你微笑的理由，它们是你的力量。",
            "生活是一场旅行，重要的是享受旅程本身。",
            "愿你永远保有一颗探索世界的好奇心。",
            "即使前路漫漫，也不要忘了偶尔停下来赏花。",
            "每个不曾起舞的日子，都是对生命的辜负。",
            "用心感受每一次心跳，那是生命的声音。",
            "保持初心，不忘初心，方得始终。",
            "向着光亮那方，一步一步前进。",
            "不管前方有多少未知，勇敢迈向未来。",
            "在寻找答案的路上，你会发现更多的问题和乐趣。",
            "用爱填满心灵，你会发现周围的世界也随之改变。",
            "每一天都是独一无二的画卷，只待你来描绘。",
            "相信自己，你是这世上无可替代的存在。",
            "让温暖和善意成为你生活的主色调。",
            "当你感到迷茫时，记得回头看看走过的路。",
            "珍惜那些陪伴你走过风雨的朋友。",
            "在这瞬息万变的世界里，找到属于自己的不变。",
            "愿你拥有足够的勇气，去拥抱所有的可能。",
            "不论何时何地，都要保持一颗乐观向上的心。",
            "发现身边的美好，哪怕是微不足道的小事。",
            "带着感恩的心面对每一天，你会收获更多惊喜。",
            "在这个快节奏的世界里，别忘了慢下来倾听内心的声音。",
            "把生活过成一首诗，优雅而从容。",
            "无论遇到什么困难，都请坚持下去。",
            "给自己一个大大的微笑，因为你真的很棒。",
            "用积极的态度迎接挑战，你会发现不一样的自己。",
            "与人为善，不仅温暖他人，也照亮了自己的道路。",
            "保持对生活的热爱，因为它是最好的老师。",
            "在平凡的日子里，也能找到非凡的意义。",
        ];
        
        // 可选字体
        const availableFonts = [
            ['Helvetica', '15px', 'bold'],
            ['Arial', '14px', 'bold'],
            ['Comic Sans MS', '15px', 'bold'],
            ['Georgia', '14px', 'bold'],
            ['Times New Roman', '15px', 'bold'],
            ['Verdana', '14px', 'bold'],
            ['Courier New', '14px', 'bold'],
            ['Palatino', '15px', 'bold'],
            ['Trebuchet MS', '14px', 'bold'],
            ['Impact', '16px', 'bold']
        ];
        
        // 工具函数
        function getRandomElement(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }
        
        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        
        // 创建弹窗
        function createPopup(options = {}) {
            const popup = document.createElement('div');
            popup.className = 'popup';
            
            // 设置位置
            const x = options.x || getRandomInt(5, screenWidth - WIDTH - 5);
            const y = options.y || getRandomInt(5, screenHeight - HEIGHT - 5);
            popup.style.left = `${x}px`;
            popup.style.top = `${y}px`;
            
            // 设置尺寸
            const w = options.width || WIDTH;
            const h = options.height || HEIGHT;
            popup.style.width = `${w - 30}px`; // 减去padding
            popup.style.height = `${h - 30}px`;
            
            // 设置颜色
            const colors = getRandomElement(colorThemes);
            popup.style.backgroundColor = colors[0];
            popup.style.border = `2px solid #DDA0DD`;
            
            // 创建文本
            const text = document.createElement('div');
            text.textContent = getRandomElement(tips);
            text.style.color = colors[1];
            
            // 设置字体
            const font = options.font || getRandomElement(availableFonts);
            text.style.fontFamily = font[0];
            text.style.fontSize = font[1];
            text.style.fontWeight = font[2];
            text.style.maxWidth = '100%';
            text.style.maxHeight = '100%';
            
            popup.appendChild(text);
            document.body.appendChild(popup);
            
            // 添加到弹窗列表
            popups.push(popup);
            
            // 选择并应用动画
            const animType = options.animType || getRandomElement(['fade', 'slide', 'scale', 'spin', 'bounce', 'shake']);
            popup.style.animation = `${animType}In 0.6s ease-out forwards`;
            
            // 设置自动销毁
            const destroyTime = getRandomInt(8000, 10000);
            setTimeout(() => {
                popup.style.animation = 'fadeOut 0.6s ease-in forwards';
                setTimeout(() => {
                    safeDestroy(popup);
                }, 600);
            }, destroyTime);
            
            return popup;
        }
        
        function safeDestroy(element) {
            if (element && element.parentNode) {
                element.parentNode.removeChild(element);
            }
            // 清理弹窗列表
            cleanupPopups();
        }
        
        function cleanupPopups() {
            popups = popups.filter(popup => {
                return popup && popup.parentNode;
            });
        }
        
        // 爱心曲线生成函数
        function heartCurve(t, scale) {
            const x = 16 * Math.pow(Math.sin(t), 3);
            const y = -(13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t));
            return [x * scale, y * scale];
        }
        
        // 创建爱心形状的弹窗
        function createHeartPopups() {
            const numPoints = 100;
            const scale = 22;
            const centerX = screenWidth / 2;
            const centerY = screenHeight / 2 - 70;
            
            const HEART_WIDTH = 120;
            const HEART_HEIGHT = 60;
            
            function createPoint(i) {
                if (i >= numPoints) {
                    // 爱心画完，3秒后启动满屏弹窗
                    setTimeout(spawnPopups, 3000);
                    return;
                }
                
                const t = i * (2 * Math.PI / numPoints);
                const [hx, hy] = heartCurve(t, scale);
                const x = Math.floor(centerX + hx - HEART_WIDTH / 2);
                const y = Math.floor(centerY + hy - HEART_HEIGHT / 2);
                
                // 创建心形弹窗
                createPopup({
                    x: x,
                    y: y,
                    width: HEART_WIDTH,
                    height: HEART_HEIGHT,
                    font: ['Helvetica', '10px', 'normal'],
                    animType: 'fade'
                });
                
                // 延迟创建下一个点
                setTimeout(() => createPoint(i + 1), 50);
            }
            
            // 从第一个点开始
            createPoint(0);
        }
        
        // 生成满屏弹窗
        function spawnPopups() {
            const total = 1000;
            const baseInterval = 100; // 毫秒
            const minInterval = 5;
            
            let cumulativeDelay = 0;
            for (let i = 0; i < total; i++) {
                const progress = i / total;
                const interval = baseInterval - (baseInterval - minInterval) * Math.pow(progress, 1.5);
                cumulativeDelay += interval;
                
                setTimeout(() => {
                    createPopup();
                }, cumulativeDelay);
            }
            
            // 结束后清理所有弹窗
            setTimeout(() => {
                popups.forEach(popup => {
                    safeDestroy(popup);
                });
            }, cumulativeDelay + 8000);
        }
        
        // 启动程序：先显示爱心，再满屏弹窗
        setTimeout(createHeartPopups, 1000);
    </script>
</body>
</html>
